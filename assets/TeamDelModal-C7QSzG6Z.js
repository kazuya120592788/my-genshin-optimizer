import{r as N,D as M,a as v,dL as _,dv as B,ca as w,d as e,B as d,am as C,T as g,ci as $,y as z,cz as S,o as k,e as H,f as L,ax as A,p as T,cx as E,cC as V,N as x,u as K,cV as W,h as I,L as q,ah as F,ai as Q,M as y,as as R,aa as U,fL as G,ad as O,an as J,ag as X,l as Y,aQ as Z}from"./index-DS5KRQCa.js";import{u as ee}from"./useTeamChar-B7P_y4WL.js";function ie({optimizationTarget:i,customMultiTargets:h}){var o;const{data:a}=N.useContext(M),t=v(),l=N.useMemo(()=>_(a,i[0],t),[a,i,t]),{title:m,icon:c,action:s}=l??{},n=B(a.getDisplay(),i),{textSuffix:r,icon:p,name:b=i[0]==="custom"?(o=h[parseInt(i[1]??"")])==null?void 0:o.name:void 0}=(n&&w(n.info))??{};return e($,{children:[e(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c||p,e("span",{children:m},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:45,columnNumber:9},this),!!s&&e(C,{color:"success",sx:{whiteSpace:"normal"},children:s},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:47,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:43,columnNumber:7},this),e(g,{sx:{display:"flex",alignItems:"center"},children:e(C,{sx:{whiteSpace:"normal"},children:[e("strong",{children:b},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:54,columnNumber:11},this),r&&e("span",{children:[" ",r]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:39,columnNumber:39},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:52,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/OptimizationTargetDisplay.tsx",lineNumber:42,columnNumber:5},this)}function te({teamCharId:i,showSetting:h=!1,children:a}){const{t}=z("loadout"),l=v(),{name:m,description:c,buildIds:s,buildTcIds:n,optConfigId:r,customMultiTargets:p}=l.teamChars.get(i),{optimizationTarget:b}=S(r);return e(x,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[e(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(k,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:39,columnNumber:9},this),e(g,{variant:"h6",children:m},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:40,columnNumber:9},this),!!c&&e(H,{title:e(g,{children:c},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:42,columnNumber:36},this),children:e(L,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:43,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:42,columnNumber:11},this),h&&e(A,{sx:{ml:"auto"}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:47,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:38,columnNumber:7},this),e(d,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[e(d,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(T,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:51,columnNumber:11},this),e(g,{children:[t("loadoutHeader.builds"),e("strong",{children:s.length},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:50,columnNumber:9},this),e(d,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(T,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:58,columnNumber:11},this),e(g,{children:[t("loadoutHeader.tcBuilds"),e("strong",{children:n.length},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:61,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:57,columnNumber:9},this),e(d,{sx:{display:"flex",justifyItems:"center",gap:1},children:[e(E,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:65,columnNumber:11},this),e(g,{children:[t("loadoutHeader.mltTargets"),e("strong",{children:p.length},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:49,columnNumber:7},this),b&&e(g,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(V,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:74,columnNumber:11},this),e(d,{children:t("loadoutHeader.optTarget")},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:75,columnNumber:11},this),e(ie,{customMultiTargets:p,optimizationTarget:b},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:73,columnNumber:9},this),a]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/character/editor/LoadoutHeaderContent.tsx",lineNumber:35,columnNumber:5},this)}function ne({teamId:i,show:h,onHide:a,onDel:t}){const{t:l}=z("page_team"),m=v(),c=K(i),{name:s,description:n,loadoutData:r}=c,p=N.useMemo(()=>r.map(o=>{if(!o)return[];const{teamCharId:u}=o;return m.teams.values.filter(({loadoutData:f})=>f.find(D=>(D==null?void 0:D.teamCharId)===u))}),[m,r]),[b,j]=N.useState(()=>p.map((o,u)=>o.length===1?u:void 0).filter(W)),P=()=>{m.teams.remove(i),r.forEach((o,u)=>{!o||!b.includes(u)||m.teamChars.remove(o.teamCharId)}),t()};return e(X,{open:h,onClose:a,children:e(I,{children:[e(q,{title:e(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e(d,{children:l("teamDelModal.teamName")},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:82,columnNumber:15},this),e("strong",{children:s},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:83,columnNumber:15},this),n&&e(H,{title:n,children:e(L,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:86,columnNumber:19},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:75,columnNumber:13},this),action:e(F,{onClick:a,children:e(Q,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:93,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:92,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:73,columnNumber:9},this),e(y,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:97,columnNumber:9},this),e(x,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e(R,{severity:"info",children:e(U,{t:l,i18nKey:"teamDelModal.alert",children:"Removing the team will remove: resonance buffs, and enemy configs stored in the team. Loadouts that are only in this team are also selected by default for deletion."},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:99,columnNumber:11},this),r.map((o,u)=>o?e(se,{teamCharId:o.teamCharId,selected:b.includes(u),onClick:()=>j(f=>G(f,u)),inTeams:p[u]},u,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:108,columnNumber:15},this):null)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:98,columnNumber:9},this),e(y,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:118,columnNumber:9},this),e(x,{sx:{display:"flex",justifyContent:"flex-end"},children:e(O,{color:"error",startIcon:e(J,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:122,columnNumber:24},this),onClick:P,children:l("teamDelModal.delBtn")},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:72,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:71,columnNumber:5},this)}function se({teamCharId:i,selected:h,onClick:a,inTeams:t}){const{t:l}=z("page_team"),m=ee(i),{key:c}=m,s=Y(c),{target:n}=(s==null?void 0:s[c])??{},r=N.useMemo(()=>{if(!(!s||!n))return{data:n,teamData:s,compareData:void 0}},[n,s]);if(r)return e(M.Provider,{value:r,children:e(I,{bgt:"light",sx:{border:h?"2px red solid":void 0},children:e(O,{fullWidth:!0,onClick:a,variant:"outlined",color:"neutral100",sx:{p:0},children:e(te,{teamCharId:i,children:e(Z,{color:t.length===1?"success":"warning",children:e(g,{children:t.length===1?l("teamDelModal.onlyCrrTeam"):l("teamDelModal.usingMltTeams",{count:t.length})},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:173,columnNumber:15},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:164,columnNumber:9},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:160,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamDelModal.tsx",lineNumber:159,columnNumber:5},this)}export{te as L,ie as O,ne as T};
