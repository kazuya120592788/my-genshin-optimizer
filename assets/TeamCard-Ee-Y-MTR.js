import{u as O,a as B,ab as E,d as e,B as t,ad as A,T as o,e as $,f as F,an as G,C as W,bN as m,X as V,h as P,i as Z,bJ as J,r as g,aZ as Q,bR as U,k as X,l as q,c_ as Y,b as K,D as ee,S as H,bW as L,aQ as ie,U as te,bS as se,o as ne,p as re,t as oe,bT as me,c$ as ae,y as le,d0 as ce,cs as j,ci as M,Z as ue,d1 as de}from"./index-DS5KRQCa.js";import{u as ge,c as C,h as T}from"./useTeamChar-B7P_y4WL.js";import{T as be}from"./TeamDelModal-C7QSzG6Z.js";function De({teamId:i,onClick:a,bgt:l}){const n=O(i),{name:r,description:s,loadoutData:u}=n,b=B(),[h,d,D]=E();return e(P,{bgt:l,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:e(t,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(t,{sx:{display:"flex",flexDirection:"row"},children:[e(A,{onClick:()=>a(),variant:"outlined",fullWidth:!0,color:"neutral300",sx:{borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0},children:e(o,{sx:{display:"flex",gap:1,alignItems:"center"},variant:"h6",children:[e("span",{children:r},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:111,columnNumber:15},this),s&&e($,{title:e(o,{children:s},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:114,columnNumber:26},this),children:e(F,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:116,columnNumber:19},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:103,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:92,columnNumber:11},this),e(be,{teamId:i,show:h,onHide:D,onDel:function(){}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:122,columnNumber:11},this),e(A,{variant:"outlined",size:"small",onClick:d,color:"error",sx:{borderTopLeftRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0},children:e(G,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:86,columnNumber:9},this),e(t,{sx:{marginTop:"auto"},children:u.map((p,z)=>{var N;const v=p==null?void 0:p.teamCharId,c=v&&((N=b.teamChars.get(v))==null?void 0:N.key);return e(t,{className:"team-teammate",sx:{border:"1px rgba(200,200,200,0.3) solid","&:hover":{border:"1px rgba(200,200,200,0.8) solid"}},children:c?e(W,{onClick:()=>a(c),children:e(he,{characterKey:c,teamId:i,teamCharId:v},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:163,columnNumber:21},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:162,columnNumber:19},this):e(W,{onClick:()=>a(),sx:{height:120,position:"relative"},children:e(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:120,backgroundColor:"neutral600.main"},children:e(t,{component:m?m:"img",src:V.team[`team${z+1}`],sx:{width:"auto",my:"15px",height:90,opacity:.7,mx:"auto"}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:184,columnNumber:23},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:174,columnNumber:21},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:170,columnNumber:19},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:152,columnNumber:15},this)})},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:79,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:72,columnNumber:5},this)}const x={banner:0,bannerFilter:1,characterIcon:2,darkDRop:3,other:4};function he({characterKey:i,teamId:a,teamCharId:l}){var I;const n=B(),r=Z(i),{gender:s}=J(),{silly:u}=g.useContext(Q),b=U(i),{name:h}=ge(l),d=n.teams.getLoadoutDatum(a,l),D=n.teams.getActiveBuildName(d),p=g.useMemo(()=>n.teams.getLoadoutWeapon(d),[d,n]),z=(()=>{const{buildType:f,buildTcId:R}=d;return f==="tc"&&R?X(n.buildTcs.get(R)):Object.values(n.teams.getLoadoutArtifacts(d)).filter(_=>_)})(),v=g.useMemo(()=>n.teams.getLoadoutArtifactData(d),[n,d]),c=q(i,void 0,z,p),N=(I=c==null?void 0:c[i])==null?void 0:I.target,y=g.useMemo(()=>r&&{character:r},[r]),S=g.useMemo(()=>N&&c&&{data:N,teamData:c},[N,c]),k=Y(i,"banner",s),w=K(i);return!y||!S?null:e(oe.Provider,{value:y,children:e(ee.Provider,{value:S,children:e(g.Suspense,{fallback:e(H,{variant:"rectangular",width:"100%",height:300},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:288,columnNumber:13},this),children:e(t,{className:k?void 0:`grad-${b.rarity}star`,sx:{display:"flex","&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${k})`,backgroundPosition:"center",backgroundSize:"cover",zIndex:x.banner}},children:[e(t,{sx:f=>({position:"absolute",width:"100%",height:"100%",zIndex:x.bannerFilter,backdropFilter:"blur(3px)",background:`linear-gradient(to right, ${C(T(f.palette.neutral600.main),.8)}, ${C(T(f.palette.neutral600.main),.4)} 100% )`})},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:312,columnNumber:13},this),e(t,{sx:f=>({position:"absolute",width:"100%",height:"100%",zIndex:x.darkDRop,background:`linear-gradient(to top, ${C(T(f.palette.neutral600.main),.9)}, rgba(0,0,0,0) 25% )`})},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:329,columnNumber:13},this),e(t,{sx:{height:120,width:120,position:"absolute",zIndex:x.other},children:[r&&e(o,{sx:{position:"absolute",lineHeight:1,bottom:0,p:.5,textShadow:"0 0 5px black"},children:L(r.level,r.ascension)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:352,columnNumber:17},this),r&&e(o,{sx:{position:"absolute",lineHeight:1,bottom:0,right:0,p:.5,textShadow:"0 0 5px black"},children:["C",r.constellation]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:365,columnNumber:17},this),i.startsWith("Traveler")&&e(o,{sx:{position:"absolute",lineHeight:1,top:0,left:0,p:.5,textShadow:"0 0 5px black"},children:e(ie,{color:w,children:e(te,{ele:w},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:390,columnNumber:21},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:389,columnNumber:19},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:343,columnNumber:13},this),e(t,{component:m?m:"img",src:se(i,s,u),sx:{height:120,width:120,zIndex:x.characterIcon}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:396,columnNumber:13},this),e(t,{sx:{pr:.5,pl:.5,py:.5,display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:0,justifyContent:"space-between",zIndex:x.other},children:[e(o,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(ne,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:429,columnNumber:17},this),e("span",{children:h},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:430,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:420,columnNumber:15},this),e(o,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(re,{},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:442,columnNumber:17},this),e("span",{children:D},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:433,columnNumber:15},this),e(t,{sx:{display:"flex",mb:.5,gap:1},children:[e(pe,{weapon:p},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:446,columnNumber:17},this),e(Ne,{artifactData:v},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:445,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:291,columnNumber:11},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:286,columnNumber:9},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:285,columnNumber:7},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:284,columnNumber:5},this)}function pe({weapon:i}){return e(P,{bgt:"neutral600",sx:{height:"100%",display:"flex",flexDirection:"horizontal",boxShadow:"0 0 10px rgba(0,0,0,0.4)"},children:[e(t,{component:m?m:"img",src:me(i.key,i.ascension>=2),maxWidth:"100%",maxHeight:"50px",sx:{mt:"auto"}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:467,columnNumber:7},this),e(t,{sx:{pr:1,display:"flex",flexDirection:"column",justifyContent:"space-evenly",color:"neutral200.main"},children:[e(o,{sx:{},children:L(i.level,i.ascension)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:483,columnNumber:9},this),ae(i.key)&&e(o,{children:["R",i.refinement]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:488,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:474,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:458,columnNumber:5},this)}function Ne({artifactData:i}){const{setNum:a={},mains:l={}}=i,{t:n}=le("statKey_gen"),r=Object.entries(a).filter(([,s])=>s>1).map(([s,u])=>[s,u<4?2:4]);return e(P,{bgt:"neutral600",sx:{height:"100%",maxHeight:"50px",display:"flex",flexDirection:"horizontal",boxShadow:"0 0 10px rgba(0,0,0,0.4)",flexGrow:1},children:[e(t,{sx:{Width:"50px",minWidth:"50px",height:"50px",position:"relative"},children:r.length===2?e(fe,{sets:r.map(([s])=>s)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:522,columnNumber:11},this):r.length===1?e(xe,{set:r[0][0],num:r[0][1]},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:524,columnNumber:11},this):!1},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:513,columnNumber:7},this),e(t,{sx:{display:"flex",flexGrow:1,position:"relative",justifyContent:"space-around",alignItems:"center"},children:Object.entries(l).filter(([,s])=>s).map(([s,u])=>{const b=e(ue,{slotKey:s,iconProps:{sx:{fontSize:"inherit"}}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:542,columnNumber:15},this),h=e(de,{statKey:u,iconProps:{sx:{fontSize:"inherit"}}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:549,columnNumber:15},this);return e($,{title:e(t,{children:e(g.Suspense,{fallback:e(H,{variant:"text"},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:559,columnNumber:41},this),children:[e(o,{sx:{display:"flex",gap:1,alignItems:"center"},children:[b,e(ce,{slotKey:s},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:568,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:560,columnNumber:23},this),e(o,{sx:{display:"flex",gap:1,alignItems:"center"},children:[h,n(u)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:570,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:559,columnNumber:21},this)},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:558,columnNumber:19},this),children:e(o,{sx:{lineHeight:0},children:[b,h]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:584,columnNumber:17},this)},s+u,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:555,columnNumber:15},this)})},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:529,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:502,columnNumber:5},this)}function fe({sets:i}){const a=i[0],l=i[1];return e(M,{children:[e(t,{component:m?m:"img",sx:{position:"absolute",top:0,left:0,Width:"50px",height:"50px",clipPath:"polygon(0 0, 0 100%, 100% 0)"},src:j(a,"flower")},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:601,columnNumber:7},this),e(t,{component:m?m:"img",sx:{position:"absolute",top:0,left:0,Width:"50px",height:"50px",clipPath:"polygon(100% 100%, 0 100%, 100% 0)"},src:j(l,"flower")},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:614,columnNumber:7},this),e(t,{className:"botright",sx:n=>({position:"absolute",bottom:0,right:0,width:"1.4em",padding:"0.2em",textAlign:"center",backgroundColor:C(T(n.palette.primary.main),.4),borderRadius:"100%"}),children:"2"},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:627,columnNumber:7},this),e(t,{sx:n=>({position:"absolute",top:0,left:0,width:"1.4em",padding:"0.2em",textAlign:"center",backgroundColor:C(T(n.palette.primary.main),.4),borderRadius:"100%"}),children:"2"},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:646,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:599,columnNumber:5},this)}function xe({set:i,num:a}){return e(M,{children:[e(t,{sx:l=>({position:"absolute",bottom:0,right:0,width:"1.4em",padding:"0.2em",textAlign:"center",backgroundColor:C(T(l.palette.primary.main),.4),borderRadius:"100%"}),children:a},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:669,columnNumber:7},this),e(t,{component:m?m:"img",src:j(i,"flower"),sx:{Width:"50px",height:"50px"}},void 0,!1,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:686,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Projects/git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:668,columnNumber:5},this)}export{De as T};
